sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("robin.Calcualtion_Engine.controller.View1",{onInit:function(){var e=jQuery.sap.getModulePath("robin.Calcualtion_Engine","/model/Flights.json");var i=new t;i.loadData(e,true);console.log(i);this.getView().setModel(i);var n=this;jQuery.sap.delayedCall(1e3,this,function(){console.log(i.getData().special_airline_prices);var e=new sap.ui.model.json.JSONModel;n.getView().setModel(e,"oView");n.getView().getModel("oView").setProperty("/ApiFlightList",i.getData().flights_api_data);n.getView().getModel("oView").setProperty("/AgentList",i.getData().agent_list);n.getView().getModel("oView").setProperty("/OperationCountryList",i.getData().operating_countries);n.getView().getModel("oView").setProperty("/SpecialPricesList",i.getData().special_airline_prices);n.getView().getModel("oView").setProperty("/SensativeAirlineList",i.getData().special_airlines);n.getView().getModel("oView").setProperty("/IssuingAgentList",i.getData().ticket_issuet);n.getView().getModel("oView").setProperty("/AdminMarkUpList",i.getData().admin_markup);n.getView().getModel("oView").setProperty("/AITTaxList",i.getData().ait_taxes);n.getView().getModel("oView").setProperty("/PccAgentComissionList",i.getData().pcc_owner_commision);n.getView().getModel("oView").setProperty("/SegmentAmountList",i.getData().segment_calculations);n.onLoadTableforSpecialOffers()})},onLoadTableforSpecialOffers:function(){var e=this.getView().byId("tableSpecialPrice"),t=new sap.ui.model.json.JSONModel(this.getView().getModel("oView").getProperty("/SpecialPricesList"));e.setModel(t);e.bindAggregation("items","oView>/SpecialPricesList",function(e,t){var i;var n=t.getProperty("offers");console.log(n);var o=[];for(var a=0;a<n.length;a++){var r=n[a];var s=new sap.m.VBox;s.addItem(new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"Start",items:[new sap.m.ObjectStatus({text:r.issuing_agent_name,state:"None",inverted:true}).addStyleClass("sapUiTinyMargin"),new sap.m.ObjectStatus({text:r.discount+"%",state:"None",inverted:true}).addStyleClass("sapUiTinyMargin"),new sap.m.ObjectStatus({text:r.ticket_type,state:"None",inverted:true}).addStyleClass("sapUiTinyMargin"),new sap.m.VBox({items:[new sap.m.ObjectAttribute({title:"From",text:r.outbound_city}),new sap.m.ObjectAttribute({title:"To",text:r.inbound_city})]}).addStyleClass("sapUiTinyMarginBeginEnd"),new sap.m.VBox({items:[new sap.m.ObjectAttribute({title:"Valid From",text:r.valid_from}),new sap.m.ObjectAttribute({title:"Valid To",text:r.valid_to})]}).addStyleClass("sapUiTinyMarginBeginEnd")]}).addStyleClass("sapUiTinyMarginBottom"));o.push(s)}return new sap.m.ColumnListItem({cells:[new sap.m.Panel({headerText:"{oView>airline_name}-{oView>airline_code}",expandable:true,content:o})]})})},onChangeUser:function(e){var t=e.getSource().getSelectedKey();this.onCalculatePrice(t)},onCalculatePrice:function(e){var t=this.getView().getModel("oView").getProperty("/ApiFlightList"),i=this.getView().getModel("oView").getProperty("/AgentList"),n=this.getView().getModel("oView").getProperty("/OperationCountryList"),o=this.getView().getModel("oView").getProperty("/SpecialPricesList"),a=this.getView().getModel("oView").getProperty("/SensativeAirlineList"),r=this.getView().getModel("oView").getProperty("/IssuingAgentList");var s=i.filter(function(t){return t.agent_id===e})[0];console.log(s);var l=[];var c=[];var u=[];t.forEach(function(e,t){var i=l.findIndex(function(t,i){return t===e.airline_code});if(i===-1){l.push(e.airline_code)}var n=c.findIndex(function(t,i){return t.flight===e.flight_no});if(i===-1){var o={};o.FlightNO=e.flight_no;o.AirlineCode=e.airline_code;c.push(o)}});console.log(l);console.log(c);var g=this;var d=[];l.forEach(function(e,t){g.onfilterbyRareAirlineCode(e,s.country_id,a,function(t){if(t===-1){d.push(e)}})});console.log(d);if(d.length>0){var m,p=[];d.forEach(function(e,t){m=l.map(function(e){return e}).indexOf(e);if(m!==-1){l.splice(m,1)}p=c.filter(function(t){return t.AirlineCode!==e})});c=[];c=p}var w=[];c.forEach(function(e){g.onFindLowestPriceBaseonAirlineCode(e.AirlineCode,e.FlightNO,function(e){e.Custom_Prices={};w.push(e)})});console.log(w);this.onFormattedList(w,s)},onFormattedList:function(e,t){var i=[];var n=this;e.forEach(function(e){var o={};o=e;n.onCalculateAITTaxNewLogic(o.price.base_price,t.country_id,o,function(e){o.Agent=t.agent_name;console.log(e);e.NoOfSegments=(o.outbound.length+o.inbound.length).toString();e.SegmentPrice=n.onCalculateSegmentAmount(o.airline_code,e.NoOfSegments,o).TotalSegmentAmount;e.PerSegmentPrice=n.onCalculateSegmentAmount(o.airline_code,e.NoOfSegments,o).PerSegmentAmount;e.CostingPrice=(parseFloat(e.CostingPrice)-parseFloat(e.SegmentPrice)).toString();e.AdminMarkUpPrice=n.onAdminMarkUp(e.CostingPrice);e.AgentPrice=(parseFloat(e.AdminMarkUpPrice)+parseFloat(e.AdminMarkUpPrice)*parseFloat(t.mark_up)/100).toFixed(2).toString();o.Custom_Prices=e});i.push(o)});console.log(i);this.getView().getModel("oView").setProperty("/FormattedFlightList",i);this.onLoadTableForFlights()},onAdminMarkUp:function(e){var t="";var i=this.getView().getModel("oView").getProperty("/AdminMarkUpList");var n=i.filter(function(t){return parseInt(e,10)>parseInt(t.min_range,10)&&parseInt(e,10)<parseInt(t.max_range,10)});console.log(n[0].markup);t=(parseFloat(e)+parseFloat(e)*parseFloat(n[0].markup)/100).toFixed(2).toString();return t},onFindLowestPriceBaseonAirlineCode:function(e,t,i){var n=this.getView().getModel("oView").getProperty("/ApiFlightList");var o;var a=[];a=n.filter(function(i){return i.airline_code===e&&i.flight_no===t});if(a.length>0){a.sort((e,t)=>parseInt(e.price.base_price,10)-parseInt(t.price.base_price,10))}i(a[0])},onfilterbyRareAirlineCode:function(e,t,i,n){var o;var a=i.filter(function(t){return t.airline_code===e});if(a.length===0){var o=0;n(o)}else{o=a[0].allowed_countries.map(function(e){return e.country_id}).indexOf(t);n(o)}},onCalculateAITTaxNewLogic:function(e,t,i,n){var o=this.getView().getModel("oView").getProperty("/AITTaxList");var a;var r=this;var s;var l={};var c=o.filter(function(e){return e.country_id===t});if(c.length>0){a=parseFloat(parseFloat(e)*parseFloat(c[0].ait_tax_amount)/100).toFixed(2);s=c[0].ait_tax_amount.toString()}else{a=parseFloat("0.00").toFixed(2);s="0.00"}l.ait_tax_amount=a.toString();l.ait_tax_percentage=s;this.onFindSpecailPriceByAirineCode(i,function(t){if(Object.keys(t).length>0){console.log(t);r.onCalcualteCommission(e,i.airline_code,i,function(i){if(parseFloat(t.discount)>parseFloat(i.CommissionPercentage)){l.SpecialDisscountPercentage=t.discount.toString();l.IssuingAgentname=t.SpecialOfferProvider}else{l.SpecialDisscountPercentage=i.CommissionPercentage;l.IssuingAgentname=i.IssueingAgentProvider}l.SpecialDisscountAmount=(parseFloat(e)*parseFloat(l.SpecialDisscountPercentage)/100).toFixed(2).toString();l.CostingPrice=(parseFloat(e)+parseFloat(l.ait_tax_amount)-parseFloat(l.SpecialDisscountAmount)).toFixed(2).toString();n(l)})}else{r.onCalcualteCommission(e,i.airline_code,i,function(t){l.SpecialDisscountPercentage=t.CommissionPercentage;l.SpecialDisscountAmount=t.CommissionAmount;l.CostingPrice=(parseFloat(e)+parseFloat(l.ait_tax_amount)-parseFloat(l.SpecialDisscountAmount)).toFixed(2).toString();l.IssuingAgentname=t.IssueingAgentProvider;n(l)})}})},onFindSpecailPriceByAirineCode:function(e,t){var i=this.getView().getModel("oView").getProperty("/SpecialPricesList");var n=[];var o={};n=i.filter(function(t){return t.airline_code===e.airline_code});if(n.length===0){t(o)}else{var a=n[0].offers.filter(function(t){return t.outbound_city===e.origin_airport&&t.inbound_city===e.destination_airport&&t.ticket_type===e.ticket_type&&new Date(e.departure_date)<=new Date(t.valid_to)});if(a.length===0){t(o)}else{o.discount=a[0].discount;o.SpecialOfferProvider=a[0].issuing_agent_name;o.ProviderId=a[0].issuing_agent_id;o.airline_code=e.airline_code;t(o)}}},onCalcualteCommission:function(e,t,i,n){var o=this.getView().getModel("oView").getProperty("/PccAgentComissionList");var a=[];var r={};var s="0.00";var l="0.00";var c="";a=o.filter(function(e){return e.airline_code===t&&new Date(i.departure_date)<=new Date(e.valid_to)});if(a.length>0){a.sort((e,t)=>parseFloat(t.commision)-parseFloat(e.commision));s=parseFloat(a[0].commision).toFixed(2);c=a[0].pcc_owner_name}if(s!=="0.00"){l=parseFloat(parseFloat(e)*s/100).toFixed(2)}r.CommissionAmount=l.toString();r.CommissionPercentage=parseFloat(s).toFixed(2).toString();r.IssueingAgentProvider=c;n(r)},onCalculateSegmentAmount:function(e,t,i){var n=this.getView().getModel("oView").getProperty("/SegmentAmountList");var o="0.00";var a="0.00";var r=n.filter(function(t){return t.airline_code===e&&new Date(i.departure_date)<=new Date(t.valid_to)});if(r.length>0){o=parseFloat(parseFloat(t)*parseFloat(r[0].segment_amount)).toFixed(2).toString();a=parseFloat(r[0].segment_amount).toFixed(2).toString()}var s={};s.TotalSegmentAmount=o.toString();s.PerSegmentAmount=a;return s},onGetUser:function(){var e=this.getView().getModel("oView").getProperty("/AgentList");var t=this.getView().byId("CmbUser").getSelectedKey();var i=e.filter(function(e){return e.agent_id===t})[0];return i},onFindUniqueAirlineAndFights:function(){var e=this.getView().getModel("oView").getProperty("/ApiFlightList");var t=[];var i=[];var n=[];var o={};e.forEach(function(e,o){var a=t.findIndex(function(t,i){return t===e.airline_code});if(a===-1){t.push(e.airline_code)}var r=n.findIndex(function(t,i){return t.FlightNo===e.flight_no&&t.AirlineCode===e.airline_code});if(r===-1){var s={};s.FlightNo=e.flight_no;s.AirlineCode=e.airline_code;n.push(s)}var l=i.findIndex(function(t,i){return t.FlightNo===e.flight_no&&t.AilineCode===e.airline_code&&t.ID===e.ID&&t.PCC_Owner_ID===e.pcc_owner_id});if(l===-1){var c={};c.ID=e.ID;c.FlightNo=e.flight_no;c.AirlineCode=e.airline_code;c.Pcc_Owner_Name=e.pcc_owner;c.Pcc_Owner_ID=e.pcc_owner_id;i.push(c)}});o.UniqueAirlines=t;o.UniqueFlights=i;o.UniqueFlightsAirlineOnly=n;return o},onFindUnAllowedAirlines:function(e,t){var i=this.getView().getModel("oView").getProperty("/SensativeAirlineList");var n=this;var o=[];e.forEach(function(e,a){n.onfilterbyRareAirlineCode(e,t.country_id,i,function(t){if(t===-1){o.push(e)}})});return o},onAddAitTax:function(e,t){var i=this.getView().getModel("oView").getProperty("/AITTaxList");var n;var o=this;var a;var r={};var s=i.filter(function(e){return e.country_id===t});if(s.length>0){n=parseFloat(parseFloat(e)*parseFloat(s[0].ait_tax_amount)/100).toFixed(2);a=s[0].ait_tax_amount.toString()}else{n=parseFloat("0.00").toFixed(2);a="0.00"}r.ait_tax_amount=n.toString();r.ait_tax_percentage=a;return r},onGetSegmentAmount:function(e,t,i,n){var o=this.getView().getModel("oView").getProperty("/SegmentAmountList");var a="0.00";var r="0.00";var s=o.filter(function(t){return t.airline_code===e&&new Date(n.departure_date)<=new Date(t.valid_to)&&t.gds_id===i});if(s.length>0){a=parseFloat(parseFloat(t)*parseFloat(s[0].segment_amount)).toFixed(2).toString();r=parseFloat(s[0].segment_amount).toFixed(2).toString()}var l={};l.TotalSegmentAmount=a.toString();l.PerSegmentAmount=r;return l},onGetSpecailPriceByAirineCode:function(e){var t=this.getView().getModel("oView").getProperty("/SpecialPricesList");var i=[];var n={};i=t.filter(function(t){return t.airline_code===e.airline_code});n.SpRouteDiscountPercentage="0.00";n.SpRouteDiscountAmount="0.00";n.SpRouteDiscountProviderName="";n.SpRouteDiscountProviderId="";if(i.length===0){return n}else{var o=i[0].offers.filter(function(t){return t.issuing_agent_id===e.pcc_owner_id&&t.outbound_city===e.origin_airport&&t.inbound_city===e.destination_airport&&t.ticket_type===e.ticket_type&&new Date(e.departure_date)<=new Date(t.valid_to)});if(o.length===0){return n}else{n.SpRouteDiscountPercentage=o[0].discount;n.SpRouteDiscountAmount=(parseFloat(e.price.base_price)*parseFloat(o[0].discount)/100).toFixed(2).toString();n.SpRouteDiscountProviderName=o[0].issuing_agent_name;n.SpRouteDiscountProviderId=o[0].issuing_agent_id;return n}}},onGetCommission:function(e){var t=this.getView().getModel("oView").getProperty("/PccAgentComissionList");var i=[];var n={};var o="0.00";var a="0.00";var r="";var s="";i=t.filter(function(t){return t.airline_code===e.airline_code&&t.pcc_owner_id===e.pcc_owner_id&&new Date(e.departure_date)<=new Date(t.valid_to)});if(i.length>0){o=parseFloat(i[0].commision).toFixed(2);r=i[0].pcc_owner_name;s=i[0].pcc_owner_id}if(o!=="0.00"){a=parseFloat(parseFloat(e.price.base_price)*o/100).toFixed(2)}n.CommissionAmount=a.toString();n.CommissionPercentage=parseFloat(o).toFixed(2).toString();n.CommissionProviderName=r;n.CommissionProviderID=s;return n},onGetCostingPrice:function(e,t,i,n){return(parseFloat(n)+parseFloat(e)-(parseFloat(t)+parseFloat(i))).toFixed(2).toString()},onGetAdminMarkUp:function(e){var t="";var i="";var n={};n.adminMarkUpPercentage="0.00";n.adminMarkUpAmount="0.00";var o=this.getView().getModel("oView").getProperty("/AdminMarkUpList");var a=o.filter(function(t){return parseFloat(e)>parseFloat(t.min_range)&&parseFloat(e)<parseFloat(t.max_range)});if(a.length>0){n.adminMarkUpPercentage=parseFloat(a[0].markup).toFixed(2).toString();n.adminMarkUpAmount=(parseFloat(e)+parseFloat(e)*parseFloat(a[0].markup)/100).toFixed(2).toString()}return n},onGetLowestPriceBaseonAirlineCode:function(e,t,i){var n=this.getView().getModel("oView").getProperty("/FlightCostingList");var o;var a=[];a=n.filter(function(i){return i.AirlineCode===e&&i.FlightNo===t});if(a.length>0){a.sort((e,t)=>parseFloat(e.Custom_Objects.CostingPrice)-parseFloat(t.Custom_Objects.CostingPrice));i(a[0])}else{i({})}},onAddPriceIndexedForBaseAiTTaxAndSegemnt:function(e,t){var i=this.getView().getModel("oView").getProperty("/ApiFlightList");var n=[];var o=this;e.forEach(function(e,a){var r={};r=e;var s={};var l=i.filter(function(t){return t.airline_code===e.AirlineCode&&t.flight_no===e.FlightNo&&t.pcc_owner_id===e.Pcc_Owner_ID});if(l.length>0){s.BasePrice=l[0].price.base_price;s.NoOfSegments=(l[0].outbound.length+l[0].inbound.length).toString();s.GDS_Provider=l[0].gds_provider;s.GDS_Provider_ID=l[0].gds_id;var c=o.onGetSegmentAmount(e.AirlineCode,s.NoOfSegments,s.GDS_Provider_ID,l[0]);s.PerSegmentAmout=c.PerSegmentAmount;s.TotalSegmentAmount=c.TotalSegmentAmount;var u=o.onAddAitTax(s.BasePrice,t);s.AitTax=u.ait_tax_amount;s.AitTax_percentage=u.ait_tax_percentage;var g=o.onGetSpecailPriceByAirineCode(l[0]);s.SpRouteDiscountPercentage=g.SpRouteDiscountPercentage;s.SpRouteDiscountAmount=g.SpRouteDiscountAmount;var d=o.onGetCommission(l[0]);s.CommissionAmount=d.CommissionAmount;s.CommissionPercentage=d.CommissionPercentage;if(parseFloat(s.SpRouteDiscountAmount)>parseFloat(s.CommissionAmount)){s.DisscountAmout=s.SpRouteDiscountAmount;s.DisscountPercentage=s.SpRouteDiscountPercentage}else{s.DisscountAmout=s.CommissionAmount;s.DisscountPercentage=s.CommissionPercentage}s.CostingPrice=o.onGetCostingPrice(s.AitTax,s.DisscountAmout,s.TotalSegmentAmount,s.BasePrice);var m=o.onGetAdminMarkUp(s.CostingPrice);s.AdminMarkUpPercentage=m.adminMarkUpPercentage;s.AdminMarkUpAmount=m.adminMarkUpAmount;r.Custom_Objects=s;r.FlightApiData=l[0]}n.push(r)});return n},onProcess:function(e){var t=this.onGetUser();console.log(t);var i=this.onFindUniqueAirlineAndFights();console.log(i);var n=this.onFindUnAllowedAirlines(i.UniqueAirlines,t);console.log(n);if(n.length>0){var o,a=[];n.forEach(function(e,t){o=i.UniqueAirlines.map(function(e){return e}).indexOf(e);if(o!==-1){i.UniqueAirlines.splice(o,1)}i.UniqueFlights=i.UniqueFlights.filter(function(t){return t.AirlineCode!==e});i.UniqueFlightsAirlineOnly=i.UniqueFlightsAirlineOnly.filter(function(t){return t.AirlineCode!==e})})}console.log(i.UniqueFlights);console.log(i.UniqueAirlines);console.log(i.UniqueFlightsAirlineOnly);var r=this.onAddPriceIndexedForBaseAiTTaxAndSegemnt(i.UniqueFlights,t.country_id);console.log(r);var s=[];i.UniqueFlightsAirlineOnly.forEach(function(e,t){var i=r.filter(function(t){return t.AirlineCode===e.AirlineCode&&t.FlightNo===e.FlightNo});if(i.length>0){i.sort((e,t)=>parseFloat(e.Custom_Objects.CostingPrice)-parseFloat(t.Custom_Objects.CostingPrice));s.push(...i)}});console.log(s);this.getView().getModel("oView").setProperty("/FlightCostingList",s);this.onLoadDatatoTableForCalculateCosting();var l=[];var c=this;i.UniqueFlightsAirlineOnly.forEach(function(e){c.onGetLowestPriceBaseonAirlineCode(e.AirlineCode,e.FlightNo,function(e){if(Object.keys(e).length>0){e.Custom_Objects.AgentName=t.agent_name;e.Custom_Objects.AgentPercentage=parseFloat(t.mark_up).toFixed(2).toString();e.Custom_Objects.AgentAmount=c.onGetAgentPice(e.Custom_Objects.AdminMarkUpAmount,t.mark_up);l.push(e)}})});console.log(l);this.getView().getModel("oView").setProperty("/FormattedFlightList",l);this.onLoadTableForFlights()},onGetAgentPice:function(e,t){return(parseFloat(e)+parseFloat(e)*parseFloat(t)/100).toFixed(2).toString()},onLoadDatatoTableForCalculateCosting:function(){var e=this.getView().byId("tablCalcosting"),t=new sap.ui.model.json.JSONModel(this.getView().getModel("oView").getProperty("/FlightCostingList"));e.setModel(t);e.bindAggregation("items","oView>/FlightCostingList",function(e,t){var i;return new sap.m.ColumnListItem({cells:[new sap.m.ObjectStatus({text:" {oView>FlightNo}",state:"None",inverted:false}),new sap.m.ObjectStatus({text:" {oView>Pcc_Owner_Name}",state:"None",inverted:true}),new sap.m.ObjectStatus({text:" {oView>Custom_Objects/BasePrice}",state:"Information",inverted:true}),new sap.m.HBox({items:[new sap.m.ObjectStatus({text:" {oView>Custom_Objects/AitTax_percentage}%",state:"Warning",inverted:true}).addStyleClass("sapUiTinyMarginEnd"),new sap.m.ObjectStatus({text:" = {oView>Custom_Objects/AitTax}",state:"None",inverted:true})]}),new sap.m.HBox({items:[new sap.m.ObjectStatus({text:" {oView>Custom_Objects/SpRouteDiscountPercentage}%",state:"Warning",inverted:true}).addStyleClass("sapUiTinyMarginEnd"),new sap.m.ObjectStatus({text:" = {oView>Custom_Objects/SpRouteDiscountAmount}",state:"Error",inverted:true})]}),new sap.m.HBox({items:[new sap.m.ObjectStatus({text:" {oView>Custom_Objects/CommissionPercentage}%",state:"Warning",inverted:true}).addStyleClass("sapUiTinyMarginEnd"),new sap.m.ObjectStatus({text:" = {oView>Custom_Objects/CommissionAmount}",state:"Error",inverted:true})]}),new sap.m.HBox({items:[new sap.m.ObjectStatus({text:" {oView>Custom_Objects/DisscountPercentage}%",state:"Warning",inverted:true}).addStyleClass("sapUiTinyMarginEnd"),new sap.m.ObjectStatus({text:" = {oView>Custom_Objects/DisscountAmout}",state:"Success",inverted:true})]}),new sap.m.HBox({items:[new sap.m.ObjectStatus({text:"{oView>Custom_Objects/NoOfSegments} * {oView>Custom_Objects/PerSegmentAmout}",state:"Warning",inverted:true}).addStyleClass("sapUiTinyMarginEnd"),new sap.m.ObjectStatus({text:" = {oView>Custom_Objects/TotalSegmentAmount}",state:"None",inverted:true})]}),new sap.m.ObjectStatus({text:" {oView>Custom_Objects/CostingPrice}",state:"Indication06",inverted:true}),new sap.m.ObjectStatus({text:" {oView>Custom_Objects/AdminMarkUpAmount}",state:"Indication08",inverted:true})]})})},onLoadTableForFlights:function(){var e=this.getView().byId("ApiTable1"),t=new sap.ui.model.json.JSONModel(this.getView().getModel("oView").getProperty("/FormattedFlightList"));e.setModel(t);e.bindAggregation("items","oView>/FormattedFlightList",function(e,t){var i;return new sap.m.ColumnListItem({cells:[new sap.m.VBox({items:[new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Airline",state:"None",inverted:true}),new sap.m.ObjectStatus({text:"{oView>AilineCode}",state:"Warning",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Flight No",state:"None",inverted:true}),new sap.m.ObjectStatus({text:"{oView>FlightNo}",state:"None",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Origin",state:"None",inverted:true}),new sap.m.ObjectStatus({text:"{oView>FlightApiData/origin}",state:"Warning",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Destination",state:"None",inverted:true}),new sap.m.ObjectStatus({text:"{oView>FlightApiData/destination}",state:"Warning",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"No. Segment",state:"None",inverted:true}),new sap.m.ObjectStatus({text:"{oView>Custom_Objects/NoOfSegments}",state:"None",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom")]}),new sap.m.VBox({items:[new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Base Price",state:"None",inverted:true}),new sap.m.ObjectStatus({text:" {oView>Custom_Objects/BasePrice}",state:"None",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"AIT Tax",state:"None",inverted:true}),new sap.m.HBox({items:[new sap.m.Text({text:"{oView>Custom_Objects/AitTax_percentage}%"}),new sap.m.ObjectStatus({text:" + {oView>Custom_Objects/AitTax}",state:"None",inverted:true}).addStyleClass("sapUiTinyMarginBegin")]})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Special Disccount",state:"None",inverted:true}),new sap.m.HBox({items:[new sap.m.Text({text:"{oView>Custom_Objects/DisscountPercentage}%"}),new sap.m.ObjectStatus({text:" - {oView>Custom_Objects/DisscountAmout}",state:"None",inverted:true}).addStyleClass("sapUiTinyMarginBegin")]})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Segment Cost",state:"None",inverted:true}),new sap.m.HBox({items:[new sap.m.Text({text:"{oView>Custom_Objects/PerSegmentAmout}*{oView>Custom_Objects/NoOfSegments}"}),new sap.m.ObjectStatus({text:" - {oView>Custom_Objects/TotalSegmentAmount}",state:"None",inverted:true}).addStyleClass("sapUiTinyMarginBegin")]})]}).addStyleClass("sapUiTinyMarginTopBottom"),new sap.m.FlexBox({direction:"Row",alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.ObjectStatus({title:"Costing Price",state:"None",inverted:true}),new sap.m.ObjectStatus({text:" {oView>Custom_Objects/CostingPrice}",state:"Information",inverted:true})]}).addStyleClass("sapUiTinyMarginTopBottom")]}).addStyleClass("sapUiTinyMarginBeginEnd"),new sap.m.Text({text:"{oView>Custom_Objects/AdminMarkUpAmount}"}),new sap.m.Text({text:"{oView>Custom_Objects/AgentName}"}),new sap.m.Text({text:"{oView>Custom_Objects/AgentAmount}"})]})})}})});